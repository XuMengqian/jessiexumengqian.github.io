<!DOCTYPE html>
<html>
<title>XU Mengqian's Portfolio</title>

<style>
#header {
    background-color:#FFFFFF;
    color:#458B74;
    text-align:center;
    }
#header > img {
    width:90%;
}

#guide{text-align:center;
padding:20px;}

#photointro { width:600px;
            text-align: justify;
			margin: 0;
	        margin-left:350px}

	#container{
		margin: 0 auto;
		width:600px;
	}
	#main img{
		width:100%;
		height: 420px;
	}
	#controll{
		text-align: center;
	}
	#controll_imgs_container img{
		width:100px;
		height:70px;
		margin-left: 10px;
		margin-right: 10px;
	}
	#controll_imgs_container :first-child{
		margin-left: 0px;
	}
	#controll_imgs_container :last-child{
		margin-right: 0px;
	}
	#controll img:hover{
		cursor: pointer;
	}
	#controll button{
		display: inline-block;
		background-color: white;
		height: 68px;
		width:30px;
		border-radius: 5px;
		position: relative;
		top:-26px;
	}
	#controll button:hover{
		cursor: pointer;
	}
	#controll button span{
		font-size: 30px;
		line-height: 68px;
	}

	#controll_left{
		border: solid 1px grey;
		border-right: none;
	}
	#controll_right{
		border: solid 1px grey;
		border-left: none;
	}
	.active{
		border: solid;
	}
	#scroll_container{
		display: inline-block;
		max-width:470px;
		overflow-x:hidden;
		white-space:nowrap;
		margin-left: 10px;
		margin-right: 10px;
	}
	#controll_imgs_container{
		width:700px;
	}
</style>

<body>
<div id="header">
<img src="bg.jpg">

<div id="guide">
<br>
<br>
<a href="index.html"><font face="Calibri" size="3" color="#458B74"> Home </font></a>
&nbsp;&nbsp;&nbsp;&nbsp;
<a href="photostory.html"><font face="Calibri" size="3" color="#458B74"> Photo Story </font></a>
&nbsp;&nbsp;&nbsp;&nbsp;
<a href="audiostory.html"><font face="Calibri" size="3" color="#458B74"> Audio Story </font></a>
&nbsp;&nbsp;&nbsp;&nbsp;
<a href="videostory.html"><font face="Calibri" size="3" color="#458B74"> Video Story </font></a>
&nbsp;&nbsp;&nbsp;&nbsp;
<a href="cv.pdf"><font face="Calibri" size="3" color="#458B74"> CV </font></a>
&nbsp;&nbsp;&nbsp;&nbsp;
<a href="contactme.html"><font face="Calibri" size="3" color="#458B74"> Contact Me </font></a>
<br><br>

<div style="BORDER-TOP: #00686b 1px dashed; OVERFLOW: hidden; HEIGHT: 1px;"></div>
</div>
<br><br>
<h><font face="Candara" size="6" color="#458B74">
Photo Story </font></h>
<br>
<br>

<div id="container">
	<div id="main">
		<h3><font face="Candara" size="3" color="#458B74"><b><u>Horse Racing on National Day</b></u></font></h3>
		<p><font face="Candara" size="3" color="#24a97a">Photo and Edit By XU Mengqian</p>
		
		<img src=" " id="center_img">
		<p id="content" style="min-height:60px;text-align:left;margin-top:5px;"></p>
	</div>

	<hr>
<div id="controll">
		<button id="controll_left" onclick="changeImg(-1)"><span>&#10094;</span></button>
		<div id="scroll_container"><div id="controll_imgs_container"></div></div>
		<button id="controll_right" onclick="changeImg(1)"><span>&#10095;</span></button>
	</div>
</div>

<script>

var obj = [
	{src:"a.JPG",text:" On Oct.1, the Jockey Club holds a ceremony for National Day in the Parade Ring at Sha Tin racecourse. The screen shows the lyrics when NIU Shasha, a famous musician in China, sings the national anthem and another famous song Ode to the Motherland."},
	{src:"02.JPG",text:" On the ceremony, Tianjin Acrobatic Troupe is invited to perform the Group Foot Juggling Act. It is a traditional Chinese acrobatic in which the performers use their body to form a wall."},
	{src:"03.JPG",text:"During the pre-race show in the Parade Ring, the NO.13 horse named All You Wish has a special haircut, matching to the black dots in the jockey's costumes."},
	{src:"04.JPG",text:"Before the race starts, Mr.Wang is seriously studying about the betting odds.  He has to put the newspaper really close to his presbyopia glasses so that he can see the small numbers."},
	{src:"05.JPG",text:"Before the races, visitors are taking photos in the Public Enclosure, with the national flag and regional Hong Kong flag in hand. Horse racing is always associated with football and this man is a big fan of FC Barcelona."},
	{src:"06.JPG",text:"During the race, the jockeys nearly stand up on the horses. This gesture can help the jockeys to keep the balance, at the same time feel comfortable."},
	{src:"07.JPG",text:"As the horses come by, people at the Public Enclosure are all looking at the same direction and some are yelling the number of the chosen horses."},
	{src:"08.JPG",text:"In the gate, Jockey N Callan raises his index finger high to celebrate the victory and many people take photos for Callan and the Jockey Club board."},
	{src:"09.JPG",text:"In the breaks between two races, a vendor brings in bags of beers and soft drinks, selling to the visitors. The food price is very high in the racecourse so that the vendors can make a small fortune on the racing day."},
	{src:"10.JPG",text:"In the higer zone, people are focusing on the most important race, the National Cup. A man wears a bow tie and a pair of sun glasses, looking like a British-style gentleman."},
	{src:"11.JPG",text:"In the grandstand, ladies are also very excited during the National Cup race."},
	{src:"12.JPG",text:"In the Celebration Cup, the horse named Joyful Trinity is ranking the first. Its jockey Moreira, shown on the middle screen, also wins a treble and becomes the top."},
	{src:"13.JPG",text:"After the race, the winning horse is led to the gate to take photos."},
	{src:"14.JPG",text:"When the final race ends, Mr.Liu is looking at his bettings, only to find out that he loses all."},
	{src:"15.JPG",text:"In the betting room, people winning above $500 receive the cash before they go home. Compared with the large quantity of people who bet, these ones are really lucky."}
];

var p_content = document.getElementById('content');
var center_img = document.getElementById('center_img');
p_content.innerHTML = obj[0].text;
center_img.setAttribute("src", obj[0].src);


for (var i = 0; i < obj.length; i++) {
	var img = document.createElement('img'); 
	img.setAttribute("src", obj[i].src);
	img.setAttribute("id", "img"+i);
    var container = document.getElementById('controll_imgs_container'); 
    container.appendChild(img);
};

var currentImg = 0;
var controll_left = document.getElementById('controll_left');
var controll_right = document.getElementById('controll_right');
var controll_imgs = document.getElementById('controll').getElementsByTagName('img');
controll_imgs[0].className = controll_imgs[0].className + ' active';

!function() {
    for (var i = 0; i < controll_imgs.length; i++) {
    	!function(i){
            controll_imgs[i].addEventListener('click',function(){
				updateView(i);
			},false);
        }(i);
		
	};
}();

function changeImg(direction){
	controll_imgs[currentImg].className = controll_imgs[currentImg].className.replace('active', '');
	currentImg = (currentImg + obj.length + direction) % obj.length;
	if (direction == 1) {
		animate(document.getElementById('scroll_container'),{'scrollLeft':120 * currentImg - 240});
		// document.getElementById('scroll_container').scrollLeft = 120 * currentImg - 240; 
	} else {
		animate(document.getElementById('scroll_container'),{'scrollLeft':120 * currentImg - 120});
		// document.getElementById('scroll_container').scrollLeft = 120 * currentImg - 120; 
	}
	
	p_content.innerHTML = obj[currentImg].text;
	center_img.setAttribute("src", obj[currentImg].src);
	controll_imgs[currentImg].className = controll_imgs[currentImg].className + ' active';
}

function updateView(index){
	if (index > currentImg) {
		animate(document.getElementById('scroll_container'),{'scrollLeft':120 * index - 240});
		// document.getElementById('scroll_container').scrollLeft = 120 * index - 240; 
	} else if (index < currentImg) {
		animate(document.getElementById('scroll_container'),{'scrollLeft':120 * index - 120});
		// document.getElementById('scroll_container').scrollLeft = 120 * index - 120; 
	};
	
	controll_imgs[currentImg].className = controll_imgs[currentImg].className.replace('active', '');
	currentImg = index;
	p_content.innerHTML = obj[currentImg].text;
	center_img.setAttribute("src", obj[currentImg].src);
	controll_imgs[currentImg].className = controll_imgs[currentImg].className + ' active';
}

//原生js动画
function animate(obj,styleJson,callback){
  clearInterval(obj.timer);
  // 开启定时器
  obj.timer=setInterval(function(){
   var flag=true;//假设所有动作都已完成成立。
   for(var styleName in styleJson){
    //1.取当前属性值
    var iMov=obj.scrollLeft;
 
    //2.计算速度
    var speed=0;
    speed=(styleJson[styleName]-iMov)/8;//缓冲处理，这边也可以是固定值
    speed=speed>0?Math.ceil(speed):Math.floor(speed);//区分透明度及小数点，向上取整，向下取整
     
    //3.判断是否到达预定值
    if(styleJson[styleName]!=iMov){
     flag=false;
     obj[styleName]=iMov+speed;
     
    }
   }
   if(flag){//到达设定值，停止定时器，执行回调
    clearInterval(obj.timer);
    if(callback){callback();}
   }
  },10)
}

</script>







<div id="section1">
<br>
<h3><br><font face="Candara" size="3" color="#458B74">
<u><b>Race Meeting Is Held on National Day</b></u></font></h3>
<p><font face="Candara" size="3" color="#24a97a">Oct.1 2016&nbsp;&nbsp;&nbsp;&nbsp; XU Mengqian
<br>

<div id="photointro">
<p><font face="Candara" size="3" color="#24a97a">The National Day Race Meeting 2016 was held at Sha Tin Racecourse on Saturday, Oct.1. Amazing Kids and Joyful Trinity galloped to triumph in the National Day Cup (1000m) and Celebration Cup (1400m) event.</font></p>
<p><font face="Candara" size="3" color="#24a97a">Horse racing in Hong Kong can be traced back to 1841 when the British came as well as brought their tradition of horse racing. The Hong Kong Jockey Club founded in 1884 is authorized by the government to hold the legal betting.</font></p>
<p><font face="Candara" size="3" color="#24a97a">A National Day ceremony was held at noon. The Jockey Club invited Tianjin Acrobatic Troupe to perform the "Group Foot Juggling Act", which won the audience's acclaim. A famous musician in China, NIU Shasha, also sang the national anthem and another famous song "Ode to the Motherland".</font></p>
<p><font face="Candara" size="3" color="#24a97a">After the ceremony, the audience watched the pre-race show of every horse in the Parade Ring, among which, a horse named "All You Wish" had a special haircut matching to the black dots in the jockey's costumes. Some people were seriously studying the betting odds while others were just enjoying the holiday. Visitors took photos with national flags and regional Hong Kong flag in hand, waiting for the races to begin. "My wife always thinks horse racing and football belong to men, but today, she accompanies me for the Nation Cup." A Hong Kong citizen wearing a T-shirt of FC Barcelona said. </font></p>
<p><font face="Candara" size="3" color="#24a97a">When the race began, people were anxiously watching the big screen because it only took about 60 seconds to finish a race. As the horses came by, all the people at the Public Enclosure were looking at the same direction, yelling the number of the chosen horses. The winning horse and jockey were led to take photos while people felt happy or upset for their betting results. Vendors who brought in bags of beers and soft drinks made a small fortune during the break between two races.</font></p>
<p><font face="Candara" size="3" color="#24a97a">At about 5 p.m., the National Cup and the Ceremony Cup caught the biggest attention from the audience. Ladies and gentlemen in formal dress all presented to watch these two events. Finally, Amazing Kids won the National Cup and Joyful Trinity ran the first in the Ceremony Cup. The jockey of Joyful Trinity, Moreira, won a treble and became the top on that day. Off the field, Mr. Liu, a doorkeeper for flats, felt rather upset because he lost all the betting. However, there were still lucky minorities who won over HK$500 and could get the cash on the spot.</font></p>
</div>

</div>
<br>
<br>
<br>
<footer>
 <p><font face="Candara" size="3" color="#458B74">  &copy2016-2017 &nbsp;&nbsp;&nbsp;&nbsp; XU Mengqian</font></p>
</footer>

</body>
</html>